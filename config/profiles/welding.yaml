profile:
  name: welding
  description: "Wire-arc additive manufacturing / robotic welding"

vocabulary:
  process: Weld
  processPlural: Welds
  segment: Pass
  segmentPlural: Passes
  geometry: Bead
  profileHeight: Bead Height
  profileWidth: Bead Width
  depositionView: Cross Section
  speed: Wire Speed
  speedUnit: m/min
  current: Current
  currentUnit: A
  voltage: Voltage
  voltageUnit: V
  toolPath: Torch path
  workpiece: Workpiece

fields:
  measuredHeight:
    label: Bead Height
    unit: mm
  measuredWidth:
    label: Bead Width
    unit: mm
  measuredSpeed:
    label: Wire Speed
    unit: m/min
  measuredCurrent:
    label: Welding Current
    unit: A
  measuredVoltage:
    label: Arc Voltage
    unit: V

ros2:
  topics:
    geometry: /robin/weld_dimensions
    process_params: /robin/data/fronius
    pose: /tcp_pose_broadcaster/pose
    telemetry_output: /robin/telemetry
  min_publish_period: 0.1

skills:
  start_process:
    ros_type: service
    ros_name: /welding/start
    srv_type: robin_interfaces/srv/StartWeld
    description: Start the welding arc
  stop_process:
    ros_type: service
    ros_name: /welding/stop
    srv_type: std_srvs/srv/Trigger
    description: Stop the welding arc
  set_parameters:
    ros_type: service
    ros_name: /welding/set_params
    srv_type: robin_interfaces/srv/StartWeld
    description: Update process parameters without restarting
  run_experiment:
    ros_type: action
    ros_name: /weld_experiment
    action_type: robin_interfaces/action/WeldExperiment
    description: Execute a multi-bead welding experiment

ai:
  feature_order: [wireSpeed, current, voltage]
  model_path: data/models/welding/process_geometry_mlp.pt
  default_tolerance: 10.0
  default_mode: parameter_driven

dds:
  input_topic: rt/robin/telemetry
  entity_type: "urn:robin:Process"
  entity_id: "urn:ngsi-ld:Process:ros_bridge"
  attribute: "urn:robin:processTelemetry"
